<!doctype html><html lang=en><head><title>Custom.el Snippets</title><meta charset=utf-8><meta name=generator content="Hugo 0.114.1"><meta name=author content="Florian Winkelbauer"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://florianwinkelbauer.com/posts/2019-06-03-customel-snippets/><link rel=alternate type=application/rss+xml title=RSS href=https://florianwinkelbauer.com/index.xml><link rel=stylesheet href=https://florianwinkelbauer.com/main.css></head><body><header class=dark><h2><a href=https://florianwinkelbauer.com/>Florian Winkelbauer</a></h2><nav><a href=/about>About</a>
<a href=/projects>Projects</a></nav></header><main><article><header><h1><a href=https://florianwinkelbauer.com/posts/2019-06-03-customel-snippets/>Custom.el Snippets</a></h1><time datetime=2019-06-03T00:00:00Z>June 03, 2019</time></header><p>My Emacs configuration contains a <code>custom.el</code> file, which should contain custom
code that is only relevant on a specific machine. That&rsquo;s why this file is not
tracked using git. More and more bits of useful snippets show up in my
<code>custom.el</code> file and I&rsquo;d like to jot down some examples which I might expand on
in the future.</p><h2 id=calling-command-line-tools>Calling Command Line Tools</h2><p>This snippet is inspired by <a href=https://hackeryarn.com/post/cli-in-emacs/>a blog post</a> which I&rsquo;ve found on
/r/emacs. The elisp function calls the PowerShell function <code>Invoke-Formatter</code>,
which is part of the <a href=https://github.com/PowerShell/PSScriptAnalyzer>PSScriptAnalyzer</a> PowerShell module:</p><pre><code class=language-emacs-lisp>(defun fw/pspretty-buffer ()
  (interactive)
  (shell-command-on-region (point-min) (point-max) &quot;powershell.exe -Command \&quot;$script = $input | Out-String; Invoke-Formatter $script\&quot; &quot; t t))
</code></pre><h2 id=org-mode-agenda>Org-Mode Agenda</h2><p>After seeing <a href=https://www.reddit.com/r/emacs/comments/9v7ut1/screenshot_showcase_2018/>this post</a>, I&rsquo;ve decided to dive into creating my own
agenda. I&rsquo;m using a custom agenda view to keep track of things I have to do
while I am at work. The custom view show my scheduled tasks for the next three
days, as well as all unscheduled tasks, sorted by their TODO statement (e.g.
&ldquo;TODO&rdquo;, &ldquo;WAIT&rdquo; or &ldquo;DONE&rdquo;):</p><pre><code class=language-emacs-lisp>(setq org-agenda-custom-commands
      '((&quot;.&quot; &quot;Overview (Custom)&quot;
         ((agenda &quot;&quot;
                  ((org-agenda-span 3)
                   (org-agenda-start-on-weekday nil)
                   (org-agenda-show-future-repeats 'next)
                   (org-agenda-scheduled-leaders '(&quot;&quot; &quot;&quot;))
                   (org-agenda-overriding-header &quot;* Calendar\n&quot;)))
          (todo &quot;&quot;
                ((org-agenda-overriding-header &quot;\n* Open\n&quot;)
                 (org-agenda-block-separator nil)
                 (org-agenda-sorting-strategy '(todo-state-up))
                 (org-agenda-todo-ignore-scheduled 'all)))
          ))))

(set-face-attribute 'org-agenda-structure nil :inherit 'default :height 1.25)
</code></pre><p>The custom headers make the agenda look like a regular org-mode file. Enabling
<code>(orgstruct-mode)</code> on the agenda buffer allows me to hide and show sections.</p><p>I haven&rsquo;t come around to like <code>org-capture</code>, so for now I&rsquo;ve created this:</p><pre><code class=language-emacs-lisp>(defun fw/home ()
  (interactive)
  (delete-other-windows)
  (find-file &quot;~/org/projects.org&quot;)
  (split-window-horizontally)
  (other-window 1)
  (org-agenda nil &quot;.&quot;)
  (split-window-vertically)
  (other-window 1)
  (find-file (concat &quot;~/org/&quot; (format-time-string &quot;%Y-%m-%d&quot;) &quot;.org&quot;))
  (other-window 1))

(global-set-key (kbd &quot;&lt;f12&gt;&quot;) 'fw/home)
</code></pre><p>Pressing <code>F12</code> opens up my &ldquo;home&rdquo; view, which consists of my projects-overview
file, my custom agenda, as well as a date stamped file which I use to keep track
of unexpected issues, thoughts and ideas.</p></article></main><footer><p>Copyright 2023, Florian Winkelbauer. All rights reserved.</p></footer></body></html>